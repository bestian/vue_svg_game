(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bee6ec9"],{"42db":function(t,e,r){},"9ce3":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("svg",{ref:"svg",attrs:{id:"my-game",viewBox:t.viewBox},on:{mousemove:t.onMouseMove,click:t.onClick}},[e("defs",[e("filter",{attrs:{id:"shadow"}},[e("feDropShadow",{attrs:{dx:"1",dy:"1",stdDeviation:"2"}})],1)]),e("Sky"),e("Ground"),e("CannonBase"),t._l(t.cannonBalls,(function(t){return e("CannonBall",{key:t.id,attrs:{x:t.x,y:t.y,angle:t.angle}})})),e("CannonPipe",{attrs:{angle:t.canonAngle}}),e("CurrentScore",{attrs:{score:t.currentScore}}),t._l(t.hearts,(function(t){return e("Heart",{key:t.id,attrs:{x:t.x,y:t.y}})})),!t.gameStarted&&t.gameWin?e("g",[e("WinGame",{on:{"start-game":t.startGame}}),e("Title")],1):t._e(),t.gameStarted||t.gameWin?t._e():e("g",[e("StartGame",{attrs:{lang:t.lang},on:{"start-game":t.startGame}}),e("Title",{attrs:{lang:t.lang}})],1),t.gameStarted?e("g",t._l(t.flyingObjects,(function(t){return e("FlyingObject",{key:t.id,attrs:{type:t.type,life:t.life,x:t.x,y:t.y}})})),1):t._e()],2)])},n=[],i=(r("14d9"),function(){var t=this,e=t._self._c;return e("g",{attrs:{id:"sky",filter:"url(#shadow)"}},[e("defs",[e("path",{attrs:{id:"levPath",d:t.levPath}})]),e("rect",{style:t.styleObj,attrs:{x:t.x,y:t.y,width:t.width,height:t.height}}),t._l(t.stars,(function(r,s){return e("circle",{key:s,style:t.starObj,attrs:{cx:r.x,cy:r.y,r:r.size}})})),e("text",{directives:[{name:"show",rawName:"v-show",value:t.gameStarted,expression:"gameStarted"}],style:{fill:"#e3e3e3","font-size":"36px"},attrs:{x:"0",y:"0",textAnchor:"middle"}},[e("textPath",{attrs:{"xlink:href":"#levPath"}},[t._v(" "+t._s(t.lev/5)+"級"+t._s(t.gold)+"金, 最高分:"+t._s(t.history||"無")+" ")])])],2)}),a=[],l=r("e0bf"),o=r("c9d9");const y={initialAxis:{x:-190,y:-950},initialControlPoint:{x:95,y:-50},endingControlPoint:{x:285,y:-50},endingAxis:{x:380,y:50}};var c={name:"Sky",data(){return{x:o["c"]/-2,y:100-o["a"],width:o["c"],height:o["a"],styleObj:{fill:"#000000"},starObj:{fill:"#ffffff"},stars:[],levPath:Object(l["e"])(y)}},computed:{lev(){return this.$store.state.lev},gold(){return this.$store.state.gold},history(){return this.$store.state.history},gameStarted(){return this.$store.state.started}},mounted(){for(var t=0;t<250;t++){const t={x:Math.floor(Math.random()*o["c"]-o["c"]/2),y:-Math.floor(Math.random()*o["a"]),size:Math.floor(10*Math.random())+1};this.stars.push(t),this.$forceUpdate()}}},u=c,h=r("2877"),x=Object(h["a"])(u,i,a,!1,null,null,null),f=x.exports,d=function(){var t=this,e=t._self._c;return e("g",{attrs:{id:"ground"}},[e("rect",{style:t.groundStyle,attrs:{id:"ground-2","data-name":"ground",x:t.x,y:t.y,width:t.width,height:t.height}}),e("line",{style:t.divisionStyle,attrs:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}})])},p=[],m={name:"Ground",data(){return{x:o["c"]/-2,y:0,width:o["c"],height:100,groundStyle:{fill:"#59a941"},x1:o["c"]/-2,y1:0,x2:o["c"]/2,y2:0,divisionStyle:{stroke:"#458232",strokeWidth:"3px"}}}},g=m,b=Object(h["a"])(g,d,p,!1,null,null,null),v=b.exports,w=function(){var t=this,e=t._self._c;return e("g",{staticClass:"cannon-base"},[e("path",{style:t.styleObj,attrs:{d:t.path}}),e("line",{style:t.styleObj,attrs:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}})])},O=[];const _=80,j=_/2,k=60,S=-1*k,C={initialAxis:{x:-j,y:k},initialControlPoint:{x:20,y:S},endingControlPoint:{x:60,y:S},endingAxis:{x:_,y:0}};var P={name:"CannonBase",data(){return{x1:-j,y1:k,x2:j,y2:k,styleObj:{fill:"#a16012",stroke:"#75450e",strokeWidth:"2px"},path:Object(l["e"])(C)}}},A=P,$=Object(h["a"])(A,w,O,!1,null,null,null),B=$.exports,z=function(){var t=this,e=t._self._c;return e("g",{staticClass:"cannon-pipe",attrs:{transform:t.transform}},[e("path",{style:t.styleObj,attrs:{d:t.path}}),e("line",{style:t.styleObj,attrs:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}})])},W=[];const G=10,N=G/2,M=100,F=70,T={initialAxis:{x:-N,y:-F},initialControlPoint:{x:-40,y:1.7*M},endingControlPoint:{x:80,y:1.7*M},endingAxis:{x:G,y:0}};var q={name:"CannonPipe",props:{angle:{type:Number,required:!0,default:0}},data(){return{x1:-N,y1:-F,x2:N,y2:-F,styleObj:{fill:"#666",stroke:"#FFD700",strokeWidth:"4px"},path:Object(l["e"])(T)}},computed:{transform(){return`rotate(${this.angle}, 0, 0)`}}},J=q,U=Object(h["a"])(J,z,W,!1,null,null,null),H=U.exports,D=function(){var t=this,e=t._self._c;return e("ellipse",{staticClass:"cannon-ball",style:t.styleObj,attrs:{transform:t.transform,cx:t.x,cy:t.y,rx:t.r/4,ry:2*t.r}})},I=[],E={name:"CannonBall",props:{x:{type:Number,required:!0,default:0},y:{type:Number,required:!0,default:0},angle:{type:Number,required:!0}},data(){return{r:16,styleObj:{fill:"#24ffd3",stroke:"#444",strokeWidth:"2px"}}},computed:{transform(){return`rotate(${this.angle}, ${this.x}, ${this.y})`}}},L=E,R=Object(h["a"])(L,D,I,!1,null,null,null),K=R.exports,Q=function(){var t=this,e=t._self._c;return e("g",{attrs:{filter:"url('#shadow')"}},[e("text",{style:t.styleObj,attrs:{x:"180",y:"80"}},[t._v(t._s(t.score))])])},V=[],X={name:"CurrentScore",props:{score:{type:Number,required:!0,default:0}},data(){return{styleObj:{fontFamily:'"Joti One", cursive',fontSize:80,fill:"#d6d33e"}}}},Y=X,Z=Object(h["a"])(Y,Q,V,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t._self._c;return e("g",{staticClass:"move",style:t.styleAnimation},[e("rect",{directives:[{name:"show",rawName:"v-show",value:"gift"==t.type,expression:"type == 'gift'"}],style:t.styleGift,attrs:{x:t.x,y:t.y,width:2*t.rx,height:8*t.ry}}),e("rect",{directives:[{name:"show",rawName:"v-show",value:"ufo"==t.type||"boss"==t.type,expression:"type == 'ufo' || type == 'boss' "}],style:t.styleBase[t.life],attrs:{x:t.x-.75*t.rx,y:t.y,width:1.5*t.rx,height:1*t.ry}}),e("ellipse",{directives:[{name:"show",rawName:"v-show",value:t.life>2&&("ufo"==t.type||"boss"==t.type),expression:"life > 2 && (type == 'ufo' || type == 'boss') "}],style:t.styleBase[t.life],attrs:{cx:t.x-30,cy:t.y+20,rx:t.rx-35+t.life,ry:t.ry+20+t.life}}),e("ellipse",{directives:[{name:"show",rawName:"v-show",value:t.life>0&&("ufo"==t.type||"boss"==t.type),expression:"life > 0 && (type == 'ufo' || type == 'boss') "}],style:t.styleBase[t.life],attrs:{cx:t.x-10,cy:t.y+20,rx:t.rx-35+t.life,ry:t.ry+20+t.life}}),e("ellipse",{directives:[{name:"show",rawName:"v-show",value:t.life>1&&("ufo"==t.type||"boss"==t.type),expression:"life > 1 && (type == 'ufo' || type == 'boss') "}],style:t.styleBase[t.life],attrs:{cx:t.x+10,cy:t.y+20,rx:t.rx-35+t.life,ry:t.ry+20+t.life}}),e("ellipse",{directives:[{name:"show",rawName:"v-show",value:t.life>3&&("boss"==t.type||"boss"==t.type),expression:"life > 3 && (type == 'boss' || type == 'boss') "}],style:t.styleBase[t.life],attrs:{cx:t.x+30,cy:t.y+20,rx:t.rx-35+t.life,ry:t.ry+20+t.life}}),"ufo"==t.type||"boss"==t.type?e("g",t._l(t.shapes,(function(r,s){return e("rect",{key:s,style:t.styleTop[t.life],attrs:{x:t.x+r[0],y:t.y+r[1],width:12,height:12}})})),0):t._e()])},rt=[];const st=40,nt=st/2,it=25;var at={name:"FlyingObject",props:{x:{type:Number,required:!0,default:0},y:{type:Number,required:!0,default:0},type:{type:String,required:!0,default:"ufo"},life:{type:Number,required:!0,default:1}},data(){return{shapes:[[-36,-36],[-24,-36],[-12,-36],[0,-36],[12,-36],[24,-36],[-36,-24],[-12,-24],[0,-24],[24,-24],[-36,-12],[-24,-12],[-12,-12],[0,-12],[12,-12],[24,-12]],rx:40,ry:10,styleGift:{fill:"#ffff47",stroke:"#5c5c5c"},styleBase:[{fill:"#cf0000",stroke:"#5c5c5c"},{fill:"#cf9999",stroke:"#5c5c5c"},{fill:"#cf6666",stroke:"#5c5c5c"},{fill:"#cf3333",stroke:"#5c5c5c"},{fill:"#cf0000",stroke:"#5c5c5c"}],styleTop:[{fill:"#cf0000",stroke:"#5c5c5c"},{fill:"#cf9999",stroke:"#5c5c5c"},{fill:"#cf6666",stroke:"#5c5c5c"},{fill:"#cf3333",stroke:"#5c5c5c"},{fill:"#cf0000",stroke:"#5c5c5c"}]}},computed:{cubicBezierCurve(){return{initialAxis:{x:this.x-nt,y:this.y},initialControlPoint:{x:10,y:-it},endingControlPoint:{x:30,y:-it},endingAxis:{x:st,y:0}}},path(){return Object(l["e"])(this.cubicBezierCurve)},styleAnimation(){return{animation:"ufoMove "+this.$store.state.ufo_animation_time/1e3+"s linear"}}}},lt=at,ot=(r("d859"),Object(h["a"])(lt,et,rt,!1,null,null,null)),yt=ot.exports,ct=function(){var t=this,e=t._self._c;return e("g",{attrs:{filter:"url(#shadow)"}},[e("defs",[e("path",{attrs:{id:"AliensPath",d:t.aliensPath}}),e("path",{attrs:{id:"GoHomePath",d:t.homePath}})]),e("text",{style:t.styleObj,attrs:{x:"0",y:"0"}},[e("textPath",{attrs:{"xlink:href":"#AliensPath"}},[t._v(" "+t._s({"zh-TW":"射擊","en-US":"Shoot"}[t.lang])+" ")])]),e("text",{style:t.styleObj,attrs:{x:"0",y:"0"}},[e("textPath",{attrs:{"xlink:href":"#GoHomePath"}},[t._v(" "+t._s({"zh-TW":"太空飛碟","en-US":"AlienUFO"}[t.lang])+" ")])])])},ut=[];const ht={initialAxis:{x:-190,y:-950},initialControlPoint:{x:95,y:-50},endingControlPoint:{x:285,y:-50},endingAxis:{x:380,y:0}},xt={...ht,initialAxis:{x:-250,y:-780},initialControlPoint:{x:125,y:-90},endingControlPoint:{x:375,y:-90},endingAxis:{x:500,y:0}};var ft={name:"Title",props:["lang"],data(){return{styleObj:{fontFamily:'"Joti One", cursive',fontSize:120,fill:"#cbca62"},aliensPath:Object(l["e"])(ht),homePath:Object(l["e"])(xt)}}},dt=ft,pt=Object(h["a"])(dt,ct,ut,!1,null,null,null),mt=pt.exports,gt=function(){var t=this,e=t._self._c;return e("g",{attrs:{filter:"url(#shadow)"}},t._l(t.texts,(function(r){return e("text",{key:r.y,style:r.style,attrs:{x:r.x,y:r.y,textAnchor:r.textAnchor},on:{click:function(e){return t.start(e,r.ch)}}},[t._v(" "+t._s(r.t[t.lang])+" ")])})),0)},bt=[],vt={name:"StartGame",props:["lang"],data(){return{texts:[{textAnchor:"middle",x:0,y:-400,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"},t:{"zh-TW":"練習模式","en-US":"Trail"},ch:16e3},{textAnchor:"middle",x:0,y:-300,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"},t:{"zh-TW":"簡易模式","en-US":"Easy"},ch:8e3},{textAnchor:"middle",x:0,y:-200,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"},t:{"zh-TW":"困難模式","en-US":"Difficult"},ch:6e3},{textAnchor:"middle",x:0,y:-100,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"},t:{"zh-TW":"煉獄模式","en-US":"Inferno"},ch:4e3}]}},methods:{start(t,e){t.stopPropagation(),this.$emit("start-game",e)}}},wt=vt,Ot=Object(h["a"])(wt,gt,bt,!1,null,null,null),_t=Ot.exports,jt=function(){var t=this,e=t._self._c;return e("g",{attrs:{filter:"url(#shadow)"}},[e("rect",{style:t.button.style,attrs:{x:t.button.x,y:t.button.y,width:t.button.width,height:t.button.height,rx:t.button.r,ry:t.button.r},on:{click:t.onClick}}),e("text",{style:t.text.style,attrs:{x:t.text.x,y:t.text.y,textAnchor:t.text.textAnchor},on:{click:t.onClick}},[t._v(" 勝利！點擊升級 ")])])},kt=[],St={name:"WinGame",data(){return{button:{x:o["b"]/2,y:-280,width:o["b"],height:200,r:10,style:{fill:"transparent",cursor:"pointer"}},text:{textAnchor:"middle",x:-150,y:-150,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"}}}},methods:{onClick(t){t.stopPropagation(),this.$emit("start-game",this.$store.state.ufo_animation_time)}}},Ct=St,Pt=Object(h["a"])(Ct,jt,kt,!1,null,null,null),At=Pt.exports,$t=function(){var t=this,e=t._self._c;return e("g",{attrs:{filter:"url(#shadow)"}},[e("path",{style:t.styleObj,attrs:{d:t.pathLeft}}),e("path",{style:t.styleObj,attrs:{d:t.pathRight}})])},Bt=[],zt={name:"Heart",props:{x:{type:Number,required:!0,default:0},y:{type:Number,required:!0,default:0}},data(){return{styleObj:{fill:"#da0d15",stroke:"#a51708",strokeWidth:"2px"}}},computed:{leftSide(){return{initialAxis:{x:this.x,y:this.y},initialControlPoint:{x:-20,y:-20},endingControlPoint:{x:-40,y:10},endingAxis:{x:0,y:40}}},rightSide(){return{initialAxis:{x:this.x,y:this.y},initialControlPoint:{x:20,y:-20},endingControlPoint:{x:40,y:10},endingAxis:{x:0,y:40}}},pathLeft(){return Object(l["e"])(this.leftSide)},pathRight(){return Object(l["e"])(this.rightSide)}}},Wt=zt,Gt=Object(h["a"])(Wt,$t,Bt,!1,null,null,null),Nt=Gt.exports,Mt=r("dcb3");const Ft=[window.innerWidth/-2,100-o["a"],window.innerWidth,o["a"]],Tt=35,qt=-70,Jt=30;var Ut={name:"Canvas",components:{Sky:f,Ground:v,CannonBase:B,CannonPipe:H,CannonBall:K,CurrentScore:tt,FlyingObject:yt,Title:mt,StartGame:_t,WinGame:At,Heart:Nt},props:["lang"],data(){return{viewBox:Ft,canvasMousePosition:{x:50,y:-100}}},computed:{canonAngle(){return this.$store.state.canonAngle},currentScore(){return this.$store.state.kills},gameStarted(){return this.$store.state.started},gameWin(){return this.$store.state.win},flyingObjects(){return this.$store.state.flyingObjects},cannonBalls(){return this.$store.state.cannonBalls},hearts(){const t=[];for(let e=0;e<this.$store.state.lives;e++)t.push(new Mt["a"](qt-e*Jt,Tt));return t}},methods:{onMouseMove(t){const e=this.$refs.svg;this.canvasMousePosition=Object(l["d"])(t,e)},startGame(t){this.$store.dispatch("startGame",t)},onClick(){this.$store.dispatch("shoot",this.canvasMousePosition)}},mounted(){const t=this;setInterval(()=>{t.$store.dispatch("moveObjects",t.canvasMousePosition)},10),window.onresize=()=>{const t=document.getElementById("my-game");t.style.width=window.innerWidth+"px",t.style.height=window.innerHeight+"px"},window.onresize()}},Ht=Ut,Dt=(r("cfe0"),Object(h["a"])(Ht,s,n,!1,null,null,null));e["default"]=Dt.exports},ce14:function(t,e,r){},cfe0:function(t,e,r){"use strict";r("42db")},d859:function(t,e,r){"use strict";r("ce14")}}]);
//# sourceMappingURL=chunk-5bee6ec9.7798d59c.js.map